{"ast":null,"code":"var _jsxFileName = \"c:\\\\xampp2\\\\htdocs\\\\project-react-resto\\\\src\\\\pages\\\\ChartPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { fetchCategoryChartData, fetchCustomerChartData } from '../api';\n\n// Register ChartJS components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\nfunction ChartPage() {\n  _s();\n  const [token, setToken] = useState('');\n  const [customerChartData, setCustomerChartData] = useState(null);\n  const [categoryChartData, setCategoryChartData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Fetch category chart data (no token required)\n  useEffect(() => {\n    setLoading(true);\n    fetchCategoryChartData().then(res => {\n      setCategoryChartData(res.data);\n      setLoading(false);\n    }).catch(err => {\n      console.error('Error fetching category chart data:', err);\n      setError('Failed to fetch category chart data');\n      setLoading(false);\n    });\n  }, []);\n\n  // Fetch customer chart data (requires token)\n  useEffect(() => {\n    if (!token) return;\n    setLoading(true);\n    fetchCustomerChartData(token).then(res => {\n      setCustomerChartData(res.data);\n      setLoading(false);\n    }).catch(err => {\n      console.error('Error fetching customer chart data:', err);\n      setError('Failed to fetch customer chart data');\n      setLoading(false);\n    });\n  }, [token]);\n\n  // Options for the bar chart\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Jumlah Pelanggan per Bulan'\n      }\n    }\n  };\n\n  // Options for the pie chart\n  const pieOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Jumlah Item per Kategori'\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"token\",\n        className: \"form-label\",\n        children: \"API Token (untuk data pelanggan)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"token\",\n        placeholder: \"Masukkan API token untuk mengakses data pelanggan\",\n        value: token,\n        onChange: e => setToken(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading chart data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: \"Data Kategori\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: categoryChartData ? /*#__PURE__*/_jsxDEV(Pie, {\n              data: categoryChartData,\n              options: pieOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Tidak ada data kategori tersedia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: \"Data Pelanggan per Bulan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: customerChartData ? /*#__PURE__*/_jsxDEV(Bar, {\n              data: customerChartData,\n              options: barOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: token ? 'Memuat data...' : 'Masukkan token untuk melihat data pelanggan'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(ChartPage, \"EBQkiYkDmjsM3tRqxccXB0iNhOU=\");\n_c = ChartPage;\nexport default ChartPage;\nvar _c;\n$RefreshReg$(_c, \"ChartPage\");","map":{"version":3,"names":["React","useState","useEffect","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","Bar","Pie","fetchCategoryChartData","fetchCustomerChartData","jsxDEV","_jsxDEV","register","ChartPage","_s","token","setToken","customerChartData","setCustomerChartData","categoryChartData","setCategoryChartData","loading","setLoading","error","setError","then","res","data","catch","err","console","barOptions","responsive","plugins","legend","position","title","display","text","pieOptions","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","placeholder","value","onChange","e","target","options","_c","$RefreshReg$"],"sources":["c:/xampp2/htdocs/project-react-resto/src/pages/ChartPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Chart as ChartJS, \n  CategoryScale, \n  LinearScale, \n  BarElement, \n  Title, \n  Tooltip, \n  Legend, \n  ArcElement \n} from 'chart.js';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { fetchCategoryChartData, fetchCustomerChartData } from '../api';\n\n// Register ChartJS components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\nfunction ChartPage() {\n  const [token, setToken] = useState('');\n  const [customerChartData, setCustomerChartData] = useState(null);\n  const [categoryChartData, setCategoryChartData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Fetch category chart data (no token required)\n  useEffect(() => {\n    setLoading(true);\n    fetchCategoryChartData()\n      .then(res => {\n        setCategoryChartData(res.data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error fetching category chart data:', err);\n        setError('Failed to fetch category chart data');\n        setLoading(false);\n      });\n  }, []);\n\n  // Fetch customer chart data (requires token)\n  useEffect(() => {\n    if (!token) return;\n    \n    setLoading(true);\n    fetchCustomerChartData(token)\n      .then(res => {\n        setCustomerChartData(res.data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error fetching customer chart data:', err);\n        setError('Failed to fetch customer chart data');\n        setLoading(false);\n      });\n  }, [token]);\n\n  // Options for the bar chart\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Jumlah Pelanggan per Bulan',\n      },\n    },\n  };\n\n  // Options for the pie chart\n  const pieOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Jumlah Item per Kategori',\n      },\n    },\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>Dashboard Chart</h2>\n      \n      {/* Token input for customer data */}\n      <div className=\"mb-4\">\n        <label htmlFor=\"token\" className=\"form-label\">API Token (untuk data pelanggan)</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"token\"\n          placeholder=\"Masukkan API token untuk mengakses data pelanggan\"\n          value={token}\n          onChange={e => setToken(e.target.value)}\n        />\n      </div>\n\n      {loading && <p>Loading chart data...</p>}\n      {error && <p className=\"text-danger\">{error}</p>}\n\n      <div className=\"row\">\n        {/* Category Chart (Pie) */}\n        <div className=\"col-md-6 mb-4\">\n          <div className=\"card\">\n            <div className=\"card-header\">Data Kategori</div>\n            <div className=\"card-body\">\n              {categoryChartData ? (\n                <Pie data={categoryChartData} options={pieOptions} />\n              ) : (\n                <p>Tidak ada data kategori tersedia</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Customer Chart (Bar) */}\n        <div className=\"col-md-6 mb-4\">\n          <div className=\"card\">\n            <div className=\"card-header\">Data Pelanggan per Bulan</div>\n            <div className=\"card-body\">\n              {customerChartData ? (\n                <Bar data={customerChartData} options={barOptions} />\n              ) : (\n                <p>{token ? 'Memuat data...' : 'Masukkan token untuk melihat data pelanggan'}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChartPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}