{"ast":null,"code":"import React,{useState}from'react';import{addCustomer}from'../api';import{useNavigate}from'react-router-dom';import{handleInputChange,resetForm}from'../form';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddCustomer(){const[form,setForm]=useState({nama:'',alamat:'',telepon:''});const[token,setToken]=useState('');const[message,setMessage]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();setMessage('');setError('');addCustomer(form,token).then(()=>{setMessage('Pelanggan berhasil ditambahkan!');resetForm(setForm,{nama:'',alamat:'',telepon:''});setTimeout(()=>navigate('/customers'),1000);}).catch(err=>{if(err.response&&err.response.data&&err.response.data.message){setError(err.response.data.message);}else{setError('Failed to add customer.');}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tambah Pelanggan Baru\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"token\",className:\"form-label\",children:\"API Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"token\",value:token,onChange:e=>setToken(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nama\",className:\"form-label\",children:\"Nama Pelanggan\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"nama\",name:\"nama\",value:form.nama,onChange:e=>handleInputChange(e,form,setForm),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"alamat\",className:\"form-label\",children:\"Alamat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"alamat\",name:\"alamat\",value:form.alamat,onChange:e=>handleInputChange(e,form,setForm),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"telepon\",className:\"form-label\",children:\"Telepon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"telepon\",name:\"telepon\",value:form.telepon,onChange:e=>handleInputChange(e,form,setForm),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Tambah\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-3\",children:message}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",children:error})]});}export default AddCustomer;","map":{"version":3,"names":["React","useState","addCustomer","useNavigate","handleInputChange","resetForm","jsx","_jsx","jsxs","_jsxs","AddCustomer","form","setForm","nama","alamat","telepon","token","setToken","message","setMessage","error","setError","navigate","handleSubmit","e","preventDefault","then","setTimeout","catch","err","response","data","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","name"],"sources":["C:/xampp2/htdocs/project-react-resto/src/pages/AddCustomer.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { addCustomer } from '../api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { handleInputChange, resetForm } from '../form';\r\n\r\nfunction AddCustomer() {\r\n  const [form, setForm] = useState({ nama: '', alamat: '', telepon: '' });\r\n  const [token, setToken] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    setError('');\r\n    addCustomer(form, token)\r\n      .then(() => {\r\n        setMessage('Pelanggan berhasil ditambahkan!');\r\n        resetForm(setForm, { nama: '', alamat: '', telepon: '' });\r\n        setTimeout(() => navigate('/customers'), 1000);\r\n      })\r\n      .catch(err => {\r\n        if (err.response && err.response.data && err.response.data.message) {\r\n          setError(err.response.data.message);\r\n        } else {\r\n          setError('Failed to add customer.');\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Tambah Pelanggan Baru</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"token\" className=\"form-label\">API Token</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"token\"\r\n            value={token}\r\n            onChange={e => setToken(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"nama\" className=\"form-label\">Nama Pelanggan</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"nama\"\r\n            name=\"nama\"\r\n            value={form.nama}\r\n            onChange={e => handleInputChange(e, form, setForm)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"alamat\" className=\"form-label\">Alamat</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"alamat\"\r\n            name=\"alamat\"\r\n            value={form.alamat}\r\n            onChange={e => handleInputChange(e, form, setForm)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"telepon\" className=\"form-label\">Telepon</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"telepon\"\r\n            name=\"telepon\"\r\n            value={form.telepon}\r\n            onChange={e => handleInputChange(e, form, setForm)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-success\">Tambah</button>\r\n      </form>\r\n      {message && <div className=\"alert alert-success mt-3\">{message}</div>}\r\n      {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddCustomer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}